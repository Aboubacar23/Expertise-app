{% extends 'base.html.twig' %}

{% block title %}Register{% endblock %}

{% block body %}
<div class="">
    <div class="page-title">
        <div class="title_left">
            <h3>Gestion Administrateur</h3>
        </div>
    </div>
    <div class="clearfix"></div>
    <div class="row">
        <div class="col-md-12 col-sm-12 ">
            <div class="x_panel">
                <div class="x_title">
                    <h2>Cr√©er un administrateur</h2>
                    <ul class="nav navbar-right panel_toolbox">
                        <li><a class="collapse-link"><i class="fa fa-chevron-up"></i></a></li>
                    </ul>
                    <div class="clearfix"></div>
                </div>
                <div class="x_content">
                    <br />
                    {{ form_start(registrationForm) }}
                        <div class="item form-group">
                            <div class="col-md-4 col-sm-4 ">{{ form_row(registrationForm.nom) }}</div>
                            <div class="col-md-4 col-sm-4 ">{{ form_row(registrationForm.prenom) }}</div>
                            <div class="col-md-4 col-sm-4 ">{{ form_row(registrationForm.username) }}</div>
                        </div>
                        <div class="item form-group">
                            <div class="col-md-4 col-sm-4 ">{{ form_row(registrationForm.email) }}</div>
                            <div class="col-md-4 col-sm-4 ">{{ form_row(registrationForm.telephone) }}</div>
                            <div class="col-md-4 col-sm-4 ">{{ form_row(registrationForm.plainPassword, {value: 'Password@0'}) }}</div>
                        </div>
                        <div class="item">
                            <div class="col-md-8 col-sm-8">{{ form_widget(registrationForm.roles)}}</div>
                        </div>
                        <div class="item">
                            <div class="col-md-8 col-sm-8">{{ form_row(registrationForm.agreeTerms) }}</div>
                        </div>
                        <div class="ln_solid"></div>
                        <div class="item form-group">
                            <div class="col-md-12 col-sm-12">
                                <div class="row">
                                    <div class="col-md-6">
                                        <button type="submit" class="btn btn-primary btn-sm">Enregistrer <i class="fa fa-save"></i></button>
                                    </div>
                                    <div class="col-md-6 text-right">
                                        <a class="btn btn-secondary btn-sm" type="button" href="{{path('app_register_index')}}">Retour <i class="fa fa-reply"></i></a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    {{ form_end(registrationForm) }}
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        function updateSumField() 
        { 
            var nom = document.getElementById('registration_form_nom').value;
            var prenom = document.getElementById('registration_form_prenom').value;

            var nom_1 = nom.charAt(0);
            name = nom_1+prenom;
            var username = document.getElementById('registration_form_username');
            username.value = name;
            console.log(username);

        }

        document.getElementById('registration_form_nom').addEventListener('input', updateSumField);
        document.getElementById('registration_form_prenom').addEventListener('input', updateSumField);
        document.getElementById('registration_form_username').addEventListener('input', updateSumField);
    });
</script>
{% endblock %}
